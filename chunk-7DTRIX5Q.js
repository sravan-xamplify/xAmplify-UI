import{a as x,b as y,d as H,e as k,f as j,g as A,h as B,i as X,j as V,k as W,l as z,m as $,n as T}from"./chunk-YIMDGY4D.js";import{b as I}from"./chunk-JBIYEPBL.js";import"./chunk-S7Q3MOP2.js";import"./chunk-7BKVXXAE.js";import"./chunk-PDXNSVQS.js";import"./chunk-Z3GT6QQE.js";import{c as R}from"./chunk-KHEEIZ2W.js";import"./chunk-VEXMTMPT.js";import"./chunk-Z4ZFXNJ7.js";import"./chunk-5IRIGFBY.js";import"./chunk-7IEGBUCH.js";import{Ca as _,E as w,Kc as c,Mc as h,Pb as E,Sc as P,Tb as F,Ub as M,Wb as L,g as m,hc as s,ic as l,mc as S,ra as p,u as D,yb as i,yc as O,zb as v}from"./chunk-7QP7SMW2.js";import"./chunk-2EBTC7QX.js";import"./chunk-66YHNWRR.js";var K="LOAD_MORE",g=class{constructor(e,t=!1,a=null){this.item=e;this.hasChildren=t;this.loadMoreParentItem=a}childrenChange=new m([]);get children(){return this.childrenChange.value}},u=class{constructor(e,t=1,a=!1,o=null){this.item=e;this.level=t;this.expandable2=a;this.loadMoreParentItem=o}},f=class n{batchNumber=5;dataChange=new m([]);nodeMap=new Map;rootLevelNodes=["TECH","XRP"];dataMap=new Map([["XRP",["Company Maintenance","Details","Reports"]],["TECH",["Company Maintenance","Employees","Reports"]],["Employees",["Info","Status","Work","Section","Salary","Projects","performance Leve"]]]);initialize(){let e=this.rootLevelNodes.map(t=>this._generateNode(t));this.dataChange.next(e)}loadMore(e,t=!1){if(!this.nodeMap.has(e)||!this.dataMap.has(e))return;let a=this.nodeMap.get(e),o=this.dataMap.get(e);if(t&&a.children.length>0)return;let d=a.children.length+this.batchNumber,r=o.slice(0,d).map(J=>this._generateNode(J));d<o.length&&r.push(new g(K,!1,e)),a.childrenChange.next(r),this.dataChange.next(this.dataChange.value)}_generateNode(e){if(this.nodeMap.has(e))return this.nodeMap.get(e);let t=new g(e,this.dataMap.has(e));return this.nodeMap.set(e,t),t}static \u0275fac=function(t){return new(t||n)};static \u0275prov=p({token:n,factory:n.\u0275fac,providedIn:"root"})};var C=class{constructor(e,t=1,a=!1,o=!1){this.item=e;this.level=t;this.expandable=a;this.isLoading=o}},N=class n{dataMap=new Map([["TECH",["Company Maintenance","Employees","Human Resources"]],["XRP",["Company Maintenance","Employees","Human Resources"]],["Employees",["Reports"]]]);rootLevelNodes=["TECH","XRP"];initialData(){return this.rootLevelNodes.map(e=>new C(e,0,!0))}getChildren(e){return this.dataMap.get(e)}isExpandable(e){return this.dataMap.has(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=p({token:n,factory:n.\u0275fac,providedIn:"root"})},b=class{constructor(e,t){this._treeControl=e;this._database=t}dataChange=new m([]);get data(){return this.dataChange.value}set data(e){this._treeControl.dataNodes=e,this.dataChange.next(e)}connect(e){return this._treeControl.expansionModel.changed.subscribe(t=>{(t.added||t.removed)&&this.handleTreeControl(t)}),w(e.viewChange,this.dataChange).pipe(D(()=>this.data))}disconnect(e){}handleTreeControl(e){e.added&&e.added.forEach(t=>this.toggleNode(t,!0)),e.removed&&e.removed.slice().reverse().forEach(t=>this.toggleNode(t,!1))}toggleNode(e,t){let a=this._database.getChildren(e.item),o=this.data.indexOf(e);!a||o<0||(e.isLoading=!0,setTimeout(()=>{if(t){let d=a.map(r=>new C(r,e.level+1,this._database.isExpandable(r)));this.data.splice(o+1,0,...d)}else{let d=0;for(let r=o+1;r<this.data.length&&this.data[r].level>e.level;r++,d++);this.data.splice(o+1,d)}this.dataChange.next(this.data),e.isLoading=!1},1e3))}};function Y(n,e){if(n&1&&(s(0,"mat-tree-node",10),c(1),l()),n&2){let t=e.$implicit;i(),h(" ",t.name," ")}}function Z(n,e){if(n&1&&(s(0,"mat-nested-tree-node",11)(1,"div",12)(2,"button",13)(3,"span",14),c(4),l()(),c(5),l(),s(6,"div",15),S(7,16),l()()),n&2){let t=e.$implicit,a=O();i(2),F("aria-label","Toggle "+t.name),i(2),h(" ",a.treeControl.isExpanded(t)?"-":"+"," "),i(),h(" ",t.name," "),i(),L("example-tree-invisible",!a.treeControl.isExpanded(t))}}var ee="LOAD_MORE",te=[{name:"TECH",children:[{name:"Company Maintenance"},{name:"Employees"},{name:"Human Resources"}]},{name:"XRP",children:[{name:"Company Maintenance"},{name:"Employees",children:[{name:"Company Maintenance-1"},{name:"Employees-1",children:[{name:"Company Maintenance-2"},{name:"Employees-2"},{name:"Human Resources-2"}]}]},{name:"Human Resources"}]},{name:"Tech2",children:[{name:"Company Maintenance"},{name:"Employees",children:[{name:"Company Maintenance"},{name:"Employees",children:[{name:"Human Resources"}]}]}]},{name:"TECH3"}],ae=[{name:"TECH",children:[{name:"Company Maintenance"},{name:"Employees",children:[{name:"Reports"}]},{name:"Human Resources"}]},{name:"XRP",children:[{name:"Company Maintenance"},{name:"Employees",children:[{name:"Reports"}]},{name:"Human Resources"}]}],G=class n{constructor(e,t){this._database=t;this.dataSource.data=te,this.dataSourceStatic1.data=ae,this.treeControl1=new x(this.getLevel,this.isExpandable),this.dataSource1=new b(this.treeControl1,e),this.dataSource1.data=e.initialData(),this.treeFlattener2=new z(this.transformer,this.getLevel2,this.isExpandable2,this.getChildren),this.treeControl2=new x(this.getLevel2,this.isExpandable2),this.dataSource2=new $(this.treeControl2,this.treeFlattener2),t.dataChange.subscribe(a=>{this.dataSource2.data=a}),t.initialize()}nodeMap=new Map;treeControl2;treeFlattener2;dataSource2;ngOnInit(){this.expandNodeByName(this.treeControl,this.dataSource.data,"XRP")}expandNodeByName(e,t,a){for(let o of t){if(o.name===a){e.expand(o),o.children&&this.expandChildren(e,o.children);break}o.children&&this.expandNodeByName(e,o.children,a)}}expandChildren(e,t){for(let a of t)e.expand(a),a.children&&this.expandChildren(e,a.children)}treeControl1;dataSource1;getLevel=e=>e.level;isExpandable=e=>e.expandable;hasChild1=(e,t)=>t.expandable;treeControl=new y(e=>e.children);dataSource=new T;treeControlStatic1=new y(e=>e.children);dataSourceStatic1=new T;hasChild=(e,t)=>!!t.children&&t.children.length>0;hasChildStatic1=(e,t)=>!!t.children&&t.children.length>0;getChildren=e=>e.childrenChange;transformer=(e,t)=>{let a=this.nodeMap.get(e.item);if(a)return a;let o=new u(e.item,t,e.hasChildren,e.loadMoreParentItem);return this.nodeMap.set(e.item,o),o};getLevel2=e=>e.level;isExpandable2=e=>e.expandable2;hasChild2=(e,t)=>t.expandable2;isLoadMore=(e,t,a)=>t.item===ee;loadMore(e){this._database.loadMore(e)}loadChildren(e){this._database.loadMore(e.item,!0)}static \u0275fac=function(t){return new(t||n)(v(N),v(f))};static \u0275cmp=_({type:n,selectors:[["app-treeview"]],standalone:!0,features:[P],decls:11,vars:3,consts:[[1,"row"],[1,"col-xl-12"],[1,"card","custom-card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],["id","tree",1,"text-base","font-semibold","text-gray-600","dark:text-white/70"],[1,"example-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],["class","tree-leaf",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle",""],[1,"tree-leaf"],[1,"mat-tree-node"],["mat-icon-button","","matTreeNodeToggle","",1,"me-2"],[1,"tree-expando"],["role","group",1,"tree-child-leaves"],["matTreeNodeOutlet",""]],template:function(t,a){t&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),c(5,"Basic Treeview"),l()(),s(6,"div",5)(7,"div",6)(8,"mat-tree",7),E(9,Y,2,1,"mat-tree-node",8)(10,Z,8,5,"mat-nested-tree-node",9),l()()()()()()),t&2&&(i(8),M("dataSource",a.dataSource)("treeControl",a.treeControl),i(2),M("matTreeNodeDefWhen",a.hasChild))},dependencies:[R,W,A,j,V,X,k,B,I,H],styles:['.treeview-container{width:500px}@media (max-width: 360px){  .treeview-container{width:100%}}  .form-inline.row-item .form-check .form-check-input{display:none}  .mat-h6,   .mat-typography h6{margin:0!important}.example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree[_ngcontent-%COMP%]   .mat-nested-tree-node[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%]{padding-left:40px}.example-tree[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%] > .mat-tree-node[_ngcontent-%COMP%]{padding-left:0}.mat-tree[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff!important;background:var(--primary-color)!important;height:15px!important;width:15px!important;display:flex;align-items:center;justify-content:center;margin:10px 10px 10px 0;border:none}.mat-tree-node[_ngcontent-%COMP%], .mat-nested-tree-node[_ngcontent-%COMP%]{min-height:26px!important}.example-tree-progress-bar[_ngcontent-%COMP%]{margin-left:30px}  .dark .mat-tree{background:transparent!important}  .dark .mat-tree-node,   .dark .mat-nested-tree-node{color:#fff!important}  .transparent-mode .mat-tree{background:transparent!important}  .transparent-mode .mat-tree-node,   .transparent-mode .mat-nested-tree-node{color:#fff!important}  .rtl div[role=group]{padding-left:initial!important;padding-right:40px}  .rtl div[role=group]>.mat-tree-node{padding-right:40px;padding-left:initial!important}  .rtl .mat-tree-node[aria-level="2"]{padding-right:40px;padding-left:initial!important}  .rtl .mat-tree-node[aria-level="3"]{padding-right:80px;padding-left:initial!important}button[disabled][_ngcontent-%COMP%]{display:none!important}']})};export{G as TreeviewComponent};
