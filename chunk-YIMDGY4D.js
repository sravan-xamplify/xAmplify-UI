import{c as j}from"./chunk-S7Q3MOP2.js";import{a as Y,h as xe}from"./chunk-7BKVXXAE.js";import{a as de,b as Ee,h as le}from"./chunk-PDXNSVQS.js";import{t as De}from"./chunk-Z3GT6QQE.js";import{Ad as L,Bb as be,Ca as R,Da as I,Dc as oe,E as te,Ea as p,Ec as q,Fb as Q,Fc as N,G as me,Gc as w,Kb as x,L as ie,Mb as D,N as ne,Q as b,Ra as U,Rc as _,Sa as se,Sc as O,T as ve,Tb as F,Wa as ae,_a as g,f as X,fa as re,g as f,ga as A,ia as M,ka as S,m as _e,mc as W,oc as $,q as h,s as J,sa as k,u,ua as ye,ud as P,v as H,vd as K,wc as T,xa as B,y as ee,zb as c,zd as E}from"./chunk-7QP7SMW2.js";import{a as fe,b as ge}from"./chunk-66YHNWRR.js";var Z=class{constructor(){this.expansionModel=new le(!0)}toggle(s){this.expansionModel.toggle(this._trackByValue(s))}expand(s){this.expansionModel.select(this._trackByValue(s))}collapse(s){this.expansionModel.deselect(this._trackByValue(s))}isExpanded(s){return this.expansionModel.isSelected(this._trackByValue(s))}toggleDescendants(s){this.expansionModel.isSelected(this._trackByValue(s))?this.collapseDescendants(s):this.expandDescendants(s)}collapseAll(){this.expansionModel.clear()}expandDescendants(s){let e=[s];e.push(...this.getDescendants(s)),this.expansionModel.select(...e.map(t=>this._trackByValue(t)))}collapseDescendants(s){let e=[s];e.push(...this.getDescendants(s)),this.expansionModel.deselect(...e.map(t=>this._trackByValue(t)))}_trackByValue(s){return this.trackBy?this.trackBy(s):s}},Ce=class extends Z{constructor(s,e,t){super(),this.getLevel=s,this.isExpandable=e,this.options=t,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(s){let e=this.dataNodes.indexOf(s),t=[];for(let i=e+1;i<this.dataNodes.length&&this.getLevel(s)<this.getLevel(this.dataNodes[i]);i++)t.push(this.dataNodes[i]);return t}expandAll(){this.expansionModel.select(...this.dataNodes.map(s=>this._trackByValue(s)))}},Me=class extends Z{constructor(s,e){super(),this.getChildren=s,this.options=e,this.options&&(this.trackBy=this.options.trackBy),this.options?.isExpandable&&(this.isExpandable=this.options.isExpandable)}expandAll(){this.expansionModel.clear();let s=this.dataNodes.reduce((e,t)=>[...e,...this.getDescendants(t),t],[]);this.expansionModel.select(...s.map(e=>this._trackByValue(e)))}getDescendants(s){let e=[];return this._getDescendants(e,s),e.splice(1)}_getDescendants(s,e){s.push(e);let t=this.getChildren(e);Array.isArray(t)?t.forEach(i=>this._getDescendants(s,i)):J(t)&&t.pipe(b(1),me(Boolean)).subscribe(i=>{for(let r of i)this._getDescendants(s,r)})}},z=new ye("CDK_TREE_NODE_OUTLET_NODE"),V=(()=>{class n{constructor(e,t){this.viewContainer=e,this._node=t}static{this.\u0275fac=function(t){return new(t||n)(c(Q),c(z,8))}}static{this.\u0275dir=p({type:n,selectors:[["","cdkTreeNodeOutlet",""]],standalone:!0})}}return n})(),ce=class{constructor(s){this.$implicit=s}},G=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(t){return new(t||n)(c(be))}}static{this.\u0275dir=p({type:n,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]},standalone:!0})}}return n})();function ke(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var v=(()=>{class n{get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}constructor(e,t){this._differs=e,this._changeDetectorRef=t,this._elementRef=B(g),this._dir=B(De),this._onDestroy=new X,this._levels=new Map,this._parents=new Map,this._ariaSets=new Map,this.viewChange=new f({start:0,end:Number.MAX_VALUE}),this._flattenedNodes=new f([]),this._nodeType=new f(null),this._nodes=new f(new Map),this._keyManagerNodes=new f([]),this._keyManagerFactory=B(xe),this._viewInit=!1}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let e=this._nodeDefs.filter(t=>!t.when);e.length>1,this._defaultNodeDef=e[0]}_setNodeTypeIfUnset(e){this._nodeType.value===null&&this._nodeType.next(e)}_switchDataSource(e){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new le(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let e;Ee(this._dataSource)?e=this._dataSource.connect(this):J(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=h(this._dataSource)),e&&(this._dataSubscription=this._getRenderData(e).pipe(M(this._onDestroy)).subscribe(t=>{this._renderDataChanges(t)}))}_getRenderData(e){let t=this._getExpansionModel();return H([e,this._nodeType,t.changed.pipe(re(null),S(i=>{this._emitExpansionChanges(i)}))]).pipe(A(([i,r])=>r===null?h({renderNodes:i,flattenedNodes:null,nodeType:r}):this._computeRenderingData(i,r).pipe(u(a=>ge(fe({},a),{nodeType:r})))))}_renderDataChanges(e){if(e.nodeType===null){this.renderNodeChanges(e.renderNodes);return}this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)}_emitExpansionChanges(e){if(!e)return;let t=this._nodes.value;for(let i of e.added)t.get(i)?._emitExpansionState(!0);for(let i of e.removed)t.get(i)?._emitExpansionState(!1)}_initializeKeyManager(){let e=H([this._keyManagerNodes,this._nodes]).pipe(u(([i,r])=>i.reduce((a,o)=>{let d=r.get(this._getExpansionKey(o));return d&&a.push(d),a},[]))),t={trackBy:i=>this._getExpansionKey(i.data),skipPredicate:i=>!!i.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(e,t)}_initializeDataDiffer(){let e=this.trackBy??((t,i)=>this._getExpansionKey(i));this._dataDiffer=this._differs.find([]).create(e)}_checkTreeControlUsage(){}renderNodeChanges(e,t=this._dataDiffer,i=this._nodeOutlet.viewContainer,r){let a=t.diff(e);!a&&!this._viewInit||(a?.forEachOperation((o,d,l)=>{if(o.previousIndex==null)this.insertNode(e[l],l,i,r);else if(l==null)i.remove(d);else{let y=i.get(d);i.move(y,l)}}),a?.forEachIdentityChange(o=>{let d=o.item;if(o.currentIndex!=null){let l=i.get(o.currentIndex);l.context.$implicit=d}}),r?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){if(this._nodeDefs.length===1)return this._nodeDefs.first;let i=this._nodeDefs.find(r=>r.when&&r.when(t,e))||this._defaultNodeDef;return i}insertNode(e,t,i,r){let a=this._getLevelAccessor(),o=this._getNodeDef(e,t),d=this._getExpansionKey(e),l=new ce(e);r??=this._parents.get(d)??void 0,a?l.level=a(e):r!==void 0&&this._levels.has(this._getExpansionKey(r))?l.level=this._levels.get(this._getExpansionKey(r))+1:l.level=0,this._levels.set(d,l.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(o.template,l,t),m.mostRecentTreeNode&&(m.mostRecentTreeNode.data=e)}isExpanded(e){return!!(this.treeControl?.isExpanded(e)||this._expansionModel?.isSelected(this._getExpansionKey(e)))}toggle(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}expand(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}collapse(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}toggleDescendants(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}expandDescendants(e){if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.select(this._getExpansionKey(e)),this._getDescendants(e).pipe(b(1),M(this._onDestroy)).subscribe(i=>{t.select(...i.map(r=>this._getExpansionKey(r)))})}}collapseDescendants(e){if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe(b(1),M(this._onDestroy)).subscribe(i=>{t.deselect(...i.map(r=>this._getExpansionKey(r)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._expansionModel.select(...this._flattenedNodes.value.map(t=>this._getExpansionKey(t)))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._expansionModel.deselect(...this._flattenedNodes.value.map(t=>this._getExpansionKey(t)))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(e){let t=this._getLevelAccessor(),i=this._expansionModel??this.treeControl?.expansionModel;if(!i)return h([]);let r=this._getExpansionKey(e),a=i.changed.pipe(A(d=>d.added.includes(r)?h(!0):d.removed.includes(r)?h(!1):_e),re(this.isExpanded(e)));if(t)return H([a,this._flattenedNodes]).pipe(u(([d,l])=>d?this._findChildrenByLevel(t,l,e,1):[]));let o=this._getChildrenAccessor();if(o)return Y(o(e)??[]);throw ke()}_findChildrenByLevel(e,t,i,r){let a=this._getExpansionKey(i),o=t.findIndex(C=>this._getExpansionKey(C)===a),d=e(i),l=d+r,y=[];for(let C=o+1;C<t.length;C++){let pe=e(t[C]);if(pe<=d)break;pe<=l&&y.push(t[C])}return y}_registerNode(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}_unregisterNode(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}_getLevel(e){return this._levels.get(this._getExpansionKey(e))}_getSetSize(e){return this._getAriaSet(e).length}_getPositionInSet(e){let t=this._getAriaSet(e),i=this._getExpansionKey(e);return t.findIndex(r=>this._getExpansionKey(r)===i)+1}_getNodeParent(e){let t=this._parents.get(this._getExpansionKey(e.data));return t&&this._nodes.value.get(this._getExpansionKey(t))}_getNodeChildren(e){return this._getDirectChildren(e.data).pipe(u(t=>t.reduce((i,r)=>{let a=this._nodes.value.get(this._getExpansionKey(r));return a&&i.push(a),i},[])))}_sendKeydownToKeyManager(e){if(e.target===this._elementRef.nativeElement)this._keyManager.onKeydown(e);else{let t=this._nodes.getValue();for(let[,i]of t)if(e.target===i._elementRef.nativeElement){this._keyManager.onKeydown(e);break}}}_getDescendants(e){if(this.treeControl)return h(this.treeControl.getDescendants(e));if(this.levelAccessor){let t=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return h(t)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe(ie((t,i)=>(t.push(...i),t),[]));throw ke()}_getAllChildrenRecursively(e){return this.childrenAccessor?Y(this.childrenAccessor(e)).pipe(b(1),A(t=>{for(let i of t)this._parents.set(this._getExpansionKey(i),e);return h(...t).pipe(ne(i=>ee(h([i]),this._getAllChildrenRecursively(i))))})):h([])}_getExpansionKey(e){return this.expansionKey?.(e)??e}_getAriaSet(e){let t=this._getExpansionKey(e),i=this._parents.get(t),r=i?this._getExpansionKey(i):null;return this._ariaSets.get(r)??[e]}_findParentForNode(e,t,i){if(!i.length)return null;let r=this._levels.get(this._getExpansionKey(e))??0;for(let a=t-1;a>=0;a--){let o=i[a];if((this._levels.get(this._getExpansionKey(o))??0)<r)return o}return null}_flattenNestedNodesWithExpansion(e,t=0){let i=this._getChildrenAccessor();return i?h(...e).pipe(ne(r=>{let a=this._getExpansionKey(r);this._parents.has(a)||this._parents.set(a,null),this._levels.set(a,t);let o=Y(i(r));return ee(h([r]),o.pipe(b(1),S(d=>{this._ariaSets.set(a,[...d??[]]);for(let l of d??[]){let y=this._getExpansionKey(l);this._parents.set(y,r),this._levels.set(y,t+1)}}),A(d=>d?this._flattenNestedNodesWithExpansion(d,t+1).pipe(u(l=>this.isExpanded(r)?l:[])):h([]))))}),ie((r,a)=>(r.push(...a),r),[])):h([...e])}_computeRenderingData(e,t){if(this.childrenAccessor&&t==="flat")return this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(u(i=>({renderNodes:i,flattenedNodes:i})));if(this.levelAccessor&&t==="nested"){let i=this.levelAccessor;return h(e.filter(r=>i(r)===0)).pipe(u(r=>({renderNodes:r,flattenedNodes:e})),S(({flattenedNodes:r})=>{this._calculateParents(r)}))}else return t==="flat"?h({renderNodes:e,flattenedNodes:e}).pipe(S(({flattenedNodes:i})=>{this._calculateParents(i)})):(this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(u(i=>({renderNodes:e,flattenedNodes:i}))))}_updateCachedData(e){this._flattenedNodes.next(e)}_updateKeyManagerItems(e){this._keyManagerNodes.next(e)}_calculateParents(e){let t=this._getLevelAccessor();if(t){this._parents.clear(),this._ariaSets.clear();for(let i=0;i<e.length;i++){let r=e[i],a=this._getExpansionKey(r);this._levels.set(a,t(r));let o=this._findParentForNode(r,i,e);this._parents.set(a,o);let d=o?this._getExpansionKey(o):null,l=this._ariaSets.get(d)??[];l.splice(i,0,r),this._ariaSets.set(d,l)}}}static{this.\u0275fac=function(t){return new(t||n)(c(K),c(P))}}static{this.\u0275cmp=R({type:n,selectors:[["cdk-tree"]],contentQueries:function(t,i,r){if(t&1&&oe(r,G,5),t&2){let a;N(a=w())&&(i._nodeDefs=a)}},viewQuery:function(t,i){if(t&1&&q(V,7),t&2){let r;N(r=w())&&(i._nodeOutlet=r.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(t,i){t&1&&T("keydown",function(a){return i._sendKeydownToKeyManager(a)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],standalone:!0,features:[O],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,i){t&1&&W(0,0)},dependencies:[V],encapsulation:2})}}return n})(),m=(()=>{class n{get role(){return"treeitem"}set role(e){}get isExpandable(){return this._isExpandable()}set isExpandable(e){this._inputIsExpandable=e,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(e){this._inputIsExpanded=e,e?this.expand():this.collapse()}getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}static{this.mostRecentTreeNode=null}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._dataChanges.next())}get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}constructor(e,t){this._elementRef=e,this._tree=t,this._tabindex=-1,this.activation=new ae,this.expandedChange=new ae,this._destroyed=new X,this._dataChanges=new X,this._inputIsExpandable=!1,this._inputIsExpanded=void 0,this._shouldFocus=!0,this._changeDetectorRef=B(P),n.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=Be(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(u(()=>this.isExpanded),ve()).subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._tree._setNodeTypeIfUnset("flat"),this._tree._registerNode(this)}ngOnDestroy(){n.mostRecentTreeNode===this&&(n.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(e){this.expandedChange.emit(e)}static{this.\u0275fac=function(t){return new(t||n)(c(g),c(v))}}static{this.\u0275dir=p({type:n,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(t,i){t&1&&T("click",function(){return i._setActiveItem()})("focus",function(){return i._focusItem()}),t&2&&($("tabindex",i._tabindex),F("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",E],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",E],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"],standalone:!0,features:[D]})}}return n})();function Be(n){let s=n.parentElement;for(;s&&!Re(s);)s=s.parentElement;return s?s.classList.contains("cdk-nested-tree-node")?L(s.getAttribute("aria-level")):0:-1}function Re(n){let s=n.classList;return!!(s?.contains("cdk-nested-tree-node")||s?.contains("cdk-tree"))}var he=(()=>{class n extends m{constructor(e,t,i){super(e,t),this._differs=i}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy),this._tree._getDirectChildren(this.data).pipe(M(this._destroyed)).subscribe(e=>this.updateChildrenNodes(e)),this.nodeOutlet.changes.pipe(M(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){this._tree._setNodeTypeIfUnset("nested"),super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){let t=this._getNodeOutlet();if(e&&(this._children=e),t&&this._children){let i=t.viewContainer;this._tree.renderNodeChanges(this._children,this._dataDiffer,i,this._data)}else this._dataDiffer.diff([])}_clear(){let e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){let e=this.nodeOutlet;return e&&e.find(t=>!t._node||t._node===this)}static{this.\u0275fac=function(t){return new(t||n)(c(g),c(v),c(K))}}static{this.\u0275dir=p({type:n,selectors:[["cdk-nested-tree-node"]],contentQueries:function(t,i,r){if(t&1&&oe(r,V,5),t&2){let a;N(a=w())&&(i.nodeOutlet=a)}},hostAttrs:[1,"cdk-nested-tree-node"],exportAs:["cdkNestedTreeNode"],standalone:!0,features:[_([{provide:m,useExisting:n},{provide:z,useExisting:n}]),x]})}}return n})();var ue=(()=>{class n{constructor(e,t){this._tree=e,this._treeNode=t,this.recursive=!1}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static{this.\u0275fac=function(t){return new(t||n)(c(v),c(m))}}static{this.\u0275dir=p({type:n,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(t,i){t&1&&T("click",function(a){return i._toggle(),a.stopPropagation()})("keydown.Enter",function(a){return i._toggle(),a.preventDefault()})("keydown.Space",function(a){return i._toggle(),a.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",E]},standalone:!0,features:[D]})}}return n})();var Te=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=I({type:n})}static{this.\u0275inj=k({})}}return n})();var pt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=I({type:n})}static{this.\u0275inj=k({imports:[j]})}}return n})();function Oe(n){return!!n._isNoopTreeKeyManager}var St=(()=>{class n extends m{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(e){this._tabIndexInputBinding=e}_getTabindexAttribute(){return Oe(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(e){this.isDisabled=e}constructor(e,t,i){super(e,t),this.defaultTabIndex=0,this.tabIndexInputBinding=Number(i)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static{this.\u0275fac=function(t){return new(t||n)(c(g),c(v),se("tabindex"))}}static{this.\u0275dir=p({type:n,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(t,i){t&1&&T("click",function(){return i._focusItem()}),t&2&&($("tabindex",i._getTabindexAttribute()),F("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",e=>e==null?0:L(e)],disabled:[2,"disabled","disabled",E]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],standalone:!0,features:[_([{provide:m,useExisting:n}]),D,x]})}}return n})(),Bt=(()=>{class n extends G{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=U(n)))(i||n)}})()}static{this.\u0275dir=p({type:n,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},standalone:!0,features:[_([{provide:G,useExisting:n}]),x]})}}return n})(),Rt=(()=>{class n extends he{get disabled(){return this.isDisabled}set disabled(e){this.isDisabled=e}get tabIndex(){return this.isDisabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=e}constructor(e,t,i,r){super(e,t,i)}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}static{this.\u0275fac=function(t){return new(t||n)(c(g),c(v),c(K),se("tabindex"))}}static{this.\u0275dir=p({type:n,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{node:[0,"matNestedTreeNode","node"],disabled:[2,"disabled","disabled",E],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:L(e)]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matNestedTreeNode"],standalone:!0,features:[_([{provide:he,useExisting:n},{provide:m,useExisting:n},{provide:z,useExisting:n}]),D,x]})}}return n})();var Ne=(()=>{class n{constructor(e,t){this.viewContainer=e,this._node=t}static{this.\u0275fac=function(t){return new(t||n)(c(Q),c(z,8))}}static{this.\u0275dir=p({type:n,selectors:[["","matTreeNodeOutlet",""]],standalone:!0,features:[_([{provide:V,useExisting:n}])]})}}return n})(),Ft=(()=>{class n extends v{constructor(){super(...arguments),this._nodeOutlet=void 0}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=U(n)))(i||n)}})()}static{this.\u0275cmp=R({type:n,selectors:[["mat-tree"]],viewQuery:function(t,i){if(t&1&&q(Ne,7),t&2){let r;N(r=w())&&(i._nodeOutlet=r.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],standalone:!0,features:[_([{provide:v,useExisting:n}]),x,O],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,i){t&1&&W(0,0)},dependencies:[Ne],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-app-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-app-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-app-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-app-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-app-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2})}}return n})(),Ot=(()=>{class n extends ue{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=U(n)))(i||n)}})()}static{this.\u0275dir=p({type:n,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},standalone:!0,features:[_([{provide:ue,useExisting:n}]),x]})}}return n})();var Pt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=I({type:n})}static{this.\u0275inj=k({imports:[Te,j,j]})}}return n})(),we=class{constructor(s,e,t,i){this.transformFunction=s,this.getLevel=e,this.isExpandable=t,this.getChildren=i}_flattenNode(s,e,t,i){let r=this.transformFunction(s,e);if(t.push(r),this.isExpandable(r)){let a=this.getChildren(s);a&&(Array.isArray(a)?this._flattenChildren(a,e,t,i):a.pipe(b(1)).subscribe(o=>{this._flattenChildren(o,e,t,i)}))}return t}_flattenChildren(s,e,t,i){s.forEach((r,a)=>{let o=i.slice();o.push(a!=s.length-1),this._flattenNode(r,e+1,t,o)})}flattenNodes(s){let e=[];return s.forEach(t=>this._flattenNode(t,0,e,[])),e}expandFlattenedNodes(s,e){let t=[],i=[];return i[0]=!0,s.forEach(r=>{let a=!0;for(let o=0;o<=this.getLevel(r);o++)a=a&&i[o];a&&t.push(r),this.isExpandable(r)&&(i[this.getLevel(r)+1]=e.isExpanded(r))}),t}},Ae=class extends de{get data(){return this._data.value}set data(s){this._data.next(s),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}constructor(s,e,t){super(),this._treeControl=s,this._treeFlattener=e,this._flattenedData=new f([]),this._expandedData=new f([]),this._data=new f([]),t&&(this.data=t)}connect(s){return te(s.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(u(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}},Se=class extends de{constructor(){super(...arguments),this._data=new f([])}get data(){return this._data.value}set data(s){this._data.next(s)}connect(s){return te(s.viewChange,this._data).pipe(u(()=>this.data))}disconnect(){}};export{Ce as a,Me as b,Te as c,pt as d,St as e,Bt as f,Rt as g,Ne as h,Ft as i,Ot as j,Pt as k,we as l,Ae as m,Se as n};
